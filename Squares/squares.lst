ARM GAS  squares.s 			page 1


   1              	/*
   2              	Program Description:
   3              	
   4              	This program goes through numbers 0-99 and prints out their squares
   5              	using a do-while loop so that only 1 branch is used.
   6              	*/
   7              	
   8              	.data
   9 0000 01000000 	tempR4:		.word 1
  10 0004 01000000 	tempLR:		.word 1
  11              	
  12 0008 72656461 	copyright:	.ASCIZ "redacted for github\n"
  12      63746564 
  12      20666F72 
  12      20676974 
  12      6875620A 
  13 001d 4E756D62 	headStr:	.ASCIZ "Number\t Square\n"
  13      65720920 
  13      53717561 
  13      72650A00 
  14              	@Format so that R1 appears first, then there's a tab, then R2 appears last and a new line
  15 002d 25640920 	printStr:	.ASCIZ "%d\t %d\n"
  15      25640A00 
  16              	
  17              	.TEXT
  18              	.GLOBAL main 
  19              	
  20              	main:
  21              			@saving R4 register since I need a persistent counter
  22 0000 50C09FE5 			LDR R12, =tempR4
  23 0004 00408CE5 			STR R4,	[ R12 ]
  24              			
  25              			@saving LR register since I used BL
  26 0008 4CC09FE5 			LDR R12, =tempLR
  27 000c 00E08CE5 			STR	LR,	 [ R12 ]
  28              			
  29              			@print out copyright almost forgot
  30 0010 48009FE5 			LDR R0, =copyright
  31 0014 FEFFFFEB 			BL printf
  32              			
  33              			@print out the head thingy
  34 0018 44009FE5 			LDR R0, =headStr
  35 001c FEFFFFEB 			BL printf
  36              			
  37              			@give r4 the starting value of 0 so I can have my strings until 99
  38 0020 0040A0E3 			MOV R4, #0
  39              			
  40              	@The do while loop
  41              	Loop:
  42              			
  43              			@Input the number into the string
  44 0024 0410A0E1 			MOV R1, R4
  45              		
  46              			@Input the square into the string and square it
  47 0028 940402E0 			MUL R2, R4, R4
  48              			
  49              			@Load the format string into R0 and then print it
ARM GAS  squares.s 			page 2


  50              			
  51 002c 34009FE5 			LDR R0, =printStr
  52 0030 FEFFFFEB 			BL	printf
  53              			
  54              			@BL should reset R0-R2 values
  55              			
  56              			@Add 1 to the value of R4 for the counter
  57 0034 014084E2 			ADD	R4, R4, #1
  58              			
  59              			@Make sure that R4 is less than or equal to 99
  60 0038 630054E3 			CMP R4,	#99
  61 003c F8FFFFDA 			BLE Loop
  62              			@Using less than instead of not equal to match assignment requirements
  63              			
  64              	Exit:		
  65              			@restoring registers
  66 0040 10C09FE5 			LDR	R12, =tempR4
  67 0044 00409CE5 			LDR R4,	[ R12 ]
  68 0048 0CC09FE5 			LDR R12, =tempLR
  69 004c 00E09CE5 			LDR LR,	[ R12 ]
  70              		
  71              			@exit the program
  72 0050 0000A0E3 			MOV   R0, #0  
  73 0054 1EFF2FE1 	BX    LR
  74 0058 00000000 		
  74      04000000 
  74      08000000 
  74      1D000000 
  74      2D000000 
